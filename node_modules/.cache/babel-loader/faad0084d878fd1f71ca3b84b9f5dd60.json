{"ast":null,"code":"var _jsxFileName = \"/Users/umamageswari/Documents/React/Food-Order-App/src/components/store/AuthContext.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/React.createContext({\n  onOpen: () => {},\n  onClose: () => {},\n  onAddItems: meals => {},\n  cart: [],\n  onDecrease: meals => {},\n  total: 0,\n  reset: () => {}\n});\nexport const AuthContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [toggle, setToggle] = useState(false);\n  const [cart, setCart] = useState([]);\n  const [total, setTotal] = useState(0);\n  useEffect(() => {\n    const result = cart.reduce((total, currentValue) => {\n      return total + currentValue.amount * currentValue.count;\n    }, 0);\n    setTotal(result);\n  }, [cart]);\n  console.log(total);\n  const openHandler = () => {\n    setToggle(true);\n  };\n  const closeHandler = () => {\n    setToggle(false);\n  };\n  const onAddItems = meals => {\n    const existingItem = cart.find(meal => meal.id === meals.id);\n    if (existingItem) {\n      const modifiedCart = cart.map(item => {\n        if (item.id === existingItem.id) {\n          return {\n            ...item,\n            count: item.count + meals.count\n          };\n        }\n        return item;\n      });\n      setCart(modifiedCart);\n    } else {\n      setCart(() => {\n        return [...cart, meals];\n      });\n    }\n  };\n  console.log(cart);\n  const onDecrease = meal => {\n    if (meal.count > 1) {\n      setCart(cart.map(item => {\n        if (item.id === meal.id) {\n          return {\n            ...item,\n            count: item.count - 1\n          };\n        }\n        return item;\n      }));\n    } else {\n      setCart(cart.filter(item => item.id !== meal.id));\n    }\n  };\n  const reset = () => {\n    setCart([]);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      onOpen: openHandler,\n      onClose: closeHandler,\n      toggle: toggle,\n      onAddItems: onAddItems,\n      cart: cart,\n      onDecrease: onDecrease,\n      total: total,\n      reset: reset\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthContextProvider, \"oThmo9OwroBHG4lRpMclPI3TrV4=\");\n_c = AuthContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["React","useState","useEffect","AuthContext","createContext","onOpen","onClose","onAddItems","meals","cart","onDecrease","total","reset","AuthContextProvider","children","toggle","setToggle","setCart","setTotal","result","reduce","currentValue","amount","count","console","log","openHandler","closeHandler","existingItem","find","meal","id","modifiedCart","map","item","filter"],"sources":["/Users/umamageswari/Documents/React/Food-Order-App/src/components/store/AuthContext.js"],"sourcesContent":["import React,{  useState, useEffect } from 'react';\r\n\r\nexport const AuthContext = React.createContext({\r\n    onOpen: () =>{},\r\n    onClose: () =>{},\r\n    onAddItems: (meals) =>{},\r\n    cart: [],\r\n    onDecrease: (meals) =>{},\r\n    total: 0,\r\n    reset: () =>{}\r\n})\r\n\r\nexport const AuthContextProvider = ({children}) => {\r\n    const [toggle, setToggle] = useState(false);\r\n    const [cart, setCart] = useState([]);\r\n    const [total, setTotal] = useState(0);\r\n\r\n    useEffect(() =>{\r\n        const result = cart.reduce((total, currentValue) =>{\r\n            return total + (currentValue.amount * currentValue.count);\r\n        }, 0);\r\n        setTotal(result)\r\n    }, [cart]);\r\n\r\n    console.log(total);\r\n\r\n    const openHandler = () =>{\r\n        setToggle(true);\r\n    }\r\n\r\n    const closeHandler = () =>{\r\n        setToggle(false);\r\n    }\r\n    const onAddItems = (meals) =>{   \r\n        const existingItem = cart.find(meal => meal.id === meals.id);    \r\n        if(existingItem){\r\n            const modifiedCart = cart.map(item => {\r\n                if(item.id === existingItem.id){\r\n                    return {...item , count: item.count + meals.count}\r\n                }\r\n                return item;\r\n            });           \r\n            setCart(modifiedCart);\r\n        }else{\r\n            setCart(() => {\r\n                return [...cart, meals];\r\n            })\r\n        }   \r\n\r\n    }\r\n    console.log(cart);\r\n\r\n    const onDecrease = (meal) =>{\r\n        if(meal.count > 1){\r\n            setCart(cart.map(item => {\r\n                if(item.id === meal.id){\r\n                    return {...item , count: item.count-1}\r\n                }\r\n                return item;\r\n            }))\r\n        }else{\r\n            setCart(cart.filter(item => item.id !== meal.id));\r\n        }        \r\n    }\r\n\r\n    const reset = () =>{\r\n        setCart([]);\r\n    }\r\n    return(\r\n        <AuthContext.Provider value={{\r\n            onOpen: openHandler,\r\n            onClose: closeHandler,\r\n            toggle: toggle,\r\n            onAddItems :onAddItems,\r\n            cart: cart,\r\n            onDecrease: onDecrease,\r\n            total: total,\r\n            reset: reset\r\n        }}>{children}</AuthContext.Provider>\r\n    )\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAEnD,OAAO,MAAMC,WAAW,gBAAGH,KAAK,CAACI,aAAa,CAAC;EAC3CC,MAAM,EAAE,MAAK,CAAC,CAAC;EACfC,OAAO,EAAE,MAAK,CAAC,CAAC;EAChBC,UAAU,EAAGC,KAAK,IAAI,CAAC,CAAC;EACxBC,IAAI,EAAE,EAAE;EACRC,UAAU,EAAGF,KAAK,IAAI,CAAC,CAAC;EACxBG,KAAK,EAAE,CAAC;EACRC,KAAK,EAAE,MAAK,CAAC;AACjB,CAAC,CAAC;AAEF,OAAO,MAAMC,mBAAmB,GAAG,QAAgB;EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC;EAC1C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACQ,IAAI,EAAEQ,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACU,KAAK,EAAEO,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC;EAErCC,SAAS,CAAC,MAAK;IACX,MAAMiB,MAAM,GAAGV,IAAI,CAACW,MAAM,CAAC,CAACT,KAAK,EAAEU,YAAY,KAAI;MAC/C,OAAOV,KAAK,GAAIU,YAAY,CAACC,MAAM,GAAGD,YAAY,CAACE,KAAM;IAC7D,CAAC,EAAE,CAAC,CAAC;IACLL,QAAQ,CAACC,MAAM,CAAC;EACpB,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;EAEVe,OAAO,CAACC,GAAG,CAACd,KAAK,CAAC;EAElB,MAAMe,WAAW,GAAG,MAAK;IACrBV,SAAS,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMW,YAAY,GAAG,MAAK;IACtBX,SAAS,CAAC,KAAK,CAAC;EACpB,CAAC;EACD,MAAMT,UAAU,GAAIC,KAAK,IAAI;IACzB,MAAMoB,YAAY,GAAGnB,IAAI,CAACoB,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKvB,KAAK,CAACuB,EAAE,CAAC;IAC5D,IAAGH,YAAY,EAAC;MACZ,MAAMI,YAAY,GAAGvB,IAAI,CAACwB,GAAG,CAACC,IAAI,IAAI;QAClC,IAAGA,IAAI,CAACH,EAAE,KAAKH,YAAY,CAACG,EAAE,EAAC;UAC3B,OAAO;YAAC,GAAGG,IAAI;YAAGX,KAAK,EAAEW,IAAI,CAACX,KAAK,GAAGf,KAAK,CAACe;UAAK,CAAC;QACtD;QACA,OAAOW,IAAI;MACf,CAAC,CAAC;MACFjB,OAAO,CAACe,YAAY,CAAC;IACzB,CAAC,MAAI;MACDf,OAAO,CAAC,MAAM;QACV,OAAO,CAAC,GAAGR,IAAI,EAAED,KAAK,CAAC;MAC3B,CAAC,CAAC;IACN;EAEJ,CAAC;EACDgB,OAAO,CAACC,GAAG,CAAChB,IAAI,CAAC;EAEjB,MAAMC,UAAU,GAAIoB,IAAI,IAAI;IACxB,IAAGA,IAAI,CAACP,KAAK,GAAG,CAAC,EAAC;MACdN,OAAO,CAACR,IAAI,CAACwB,GAAG,CAACC,IAAI,IAAI;QACrB,IAAGA,IAAI,CAACH,EAAE,KAAKD,IAAI,CAACC,EAAE,EAAC;UACnB,OAAO;YAAC,GAAGG,IAAI;YAAGX,KAAK,EAAEW,IAAI,CAACX,KAAK,GAAC;UAAC,CAAC;QAC1C;QACA,OAAOW,IAAI;MACf,CAAC,CAAC,CAAC;IACP,CAAC,MAAI;MACDjB,OAAO,CAACR,IAAI,CAAC0B,MAAM,CAACD,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKD,IAAI,CAACC,EAAE,CAAC,CAAC;IACrD;EACJ,CAAC;EAED,MAAMnB,KAAK,GAAG,MAAK;IACfK,OAAO,CAAC,EAAE,CAAC;EACf,CAAC;EACD,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MACzBZ,MAAM,EAAEqB,WAAW;MACnBpB,OAAO,EAAEqB,YAAY;MACrBZ,MAAM,EAAEA,MAAM;MACdR,UAAU,EAAEA,UAAU;MACtBE,IAAI,EAAEA,IAAI;MACVC,UAAU,EAAEA,UAAU;MACtBC,KAAK,EAAEA,KAAK;MACZC,KAAK,EAAEA;IACX,CAAE;IAAA,UAAEE;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAwB;AAE5C,CAAC;AAAA,GApEYD,mBAAmB;AAAA,KAAnBA,mBAAmB;AAAA;AAAA"},"metadata":{},"sourceType":"module"}