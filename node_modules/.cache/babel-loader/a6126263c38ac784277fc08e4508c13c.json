{"ast":null,"code":"var _jsxFileName = \"/Users/umamageswari/Documents/React/Food-Order-App/src/components/Cart/Cart.js\",\n  _s = $RefreshSig$();\nimport classes from './Cart.module.css';\nimport Modal from '../UI/Modal';\nimport React, { useContext, useState, Fragment } from 'react';\nimport { AuthContext } from '../store/AuthContext';\nimport CartItem from './CartItem';\nimport CheckOutForm from './CheckOutForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const ctx = useContext(AuthContext);\n  const [toggle, setToggle] = useState(true);\n  const [submitted, setIsSubmitted] = useState(false);\n  // const [toggle, setToggle] = useState(true);\n\n  const orderHandler = () => {\n    setToggle(false);\n  };\n  const userDataHandler = async userData => {\n    await fetch('https://food-order-app-41b91-default-rtdb.firebaseio.com/orders.json', {\n      method: 'POST',\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        meals: ctx.cart,\n        userData: userData\n      })\n    });\n    ctx.reset();\n    setIsSubmitted(true);\n  };\n  const orderInProgress = /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [ctx.cart.map(cartItem => /*#__PURE__*/_jsxDEV(CartItem, {\n      meals: cartItem\n    }, cartItem.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 40\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes['total'],\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Total Amount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: ctx.total.toFixed(2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), !toggle && /*#__PURE__*/_jsxDEV(CheckOutForm, {\n      onCancel: ctx.onClose,\n      submitUserData: userDataHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 25\n    }, this), toggle && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes['actions'],\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: classes['button--alt'],\n        onClick: ctx.onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: classes['button'],\n        onClick: orderHandler,\n        children: \"Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes['cart-items'],\n      children: [!submitted && orderInProgress, submitted && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ordered successfully!!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(Cart, \"7tFnb/YVNVPiCArgrETQlI5kLys=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["classes","Modal","React","useContext","useState","Fragment","AuthContext","CartItem","CheckOutForm","Cart","ctx","toggle","setToggle","submitted","setIsSubmitted","orderHandler","userDataHandler","userData","fetch","method","headers","body","JSON","stringify","meals","cart","reset","orderInProgress","map","cartItem","id","total","toFixed","onClose"],"sources":["/Users/umamageswari/Documents/React/Food-Order-App/src/components/Cart/Cart.js"],"sourcesContent":["import classes from './Cart.module.css';\r\nimport Modal from '../UI/Modal';\r\nimport React,{ useContext, useState, Fragment } from 'react';\r\nimport {AuthContext} from '../store/AuthContext';\r\nimport CartItem from './CartItem';\r\nimport CheckOutForm from './CheckOutForm';\r\n\r\nconst Cart = () =>{\r\n    const ctx = useContext(AuthContext);\r\n    const [toggle, setToggle] = useState(true);\r\n    const [submitted, setIsSubmitted] = useState(false);\r\n    // const [toggle, setToggle] = useState(true);\r\n\r\n\r\n    const orderHandler = () =>{\r\n        setToggle(false);\r\n    }\r\n\r\n    const userDataHandler = async (userData) =>{\r\n        \r\n        await fetch('https://food-order-app-41b91-default-rtdb.firebaseio.com/orders.json',{\r\n            method: 'POST',\r\n            headers: {\"content-type\": \"application/json\"},\r\n            body: JSON.stringify({\r\n                meals: ctx.cart,\r\n                userData: userData\r\n            })\r\n        });\r\n        ctx.reset();\r\n        setIsSubmitted(true);\r\n    }\r\n\r\n    const orderInProgress = (\r\n        <Fragment>\r\n             {ctx.cart.map(cartItem => <CartItem key={cartItem.id} meals={cartItem} />)}\r\n            <div className={classes['total']}>\r\n                <h4>Total Amount</h4>\r\n                <h4>{ctx.total.toFixed(2)}</h4>\r\n            </div>\r\n            {!toggle && <CheckOutForm onCancel={ctx.onClose} submitUserData={userDataHandler} /> }\r\n            {toggle && <div className={classes['actions']}>\r\n                <button className={classes['button--alt']} onClick={ctx.onClose}>Close</button>\r\n                <button className={classes['button']} onClick={orderHandler}>Order</button>\r\n            </div> }\r\n        </Fragment>\r\n    )\r\n    return(\r\n        <Modal>\r\n        <div className={classes['cart-items']}>\r\n            {!submitted && orderInProgress}\r\n            {submitted && <p>Ordered successfully!!!</p>}\r\n        </div>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default Cart;\r\n"],"mappings":";;AAAA,OAAOA,OAAO,MAAM,mBAAmB;AACvC,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAOC,KAAK,IAAGC,UAAU,EAAEC,QAAQ,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAAQC,WAAW,QAAO,sBAAsB;AAChD,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,YAAY,MAAM,gBAAgB;AAAC;AAE1C,MAAMC,IAAI,GAAG,MAAK;EAAA;EACd,MAAMC,GAAG,GAAGP,UAAU,CAACG,WAAW,CAAC;EACnC,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACS,SAAS,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACnD;;EAGA,MAAMW,YAAY,GAAG,MAAK;IACtBH,SAAS,CAAC,KAAK,CAAC;EACpB,CAAC;EAED,MAAMI,eAAe,GAAG,MAAOC,QAAQ,IAAI;IAEvC,MAAMC,KAAK,CAAC,sEAAsE,EAAC;MAC/EC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBC,KAAK,EAAEd,GAAG,CAACe,IAAI;QACfR,QAAQ,EAAEA;MACd,CAAC;IACL,CAAC,CAAC;IACFP,GAAG,CAACgB,KAAK,EAAE;IACXZ,cAAc,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,MAAMa,eAAe,gBACjB,QAAC,QAAQ;IAAA,WACHjB,GAAG,CAACe,IAAI,CAACG,GAAG,CAACC,QAAQ,iBAAI,QAAC,QAAQ;MAAmB,KAAK,EAAEA;IAAS,GAA7BA,QAAQ,CAACC,EAAE;MAAA;MAAA;MAAA;IAAA,QAAqB,CAAC,eAC3E;MAAK,SAAS,EAAE9B,OAAO,CAAC,OAAO,CAAE;MAAA,wBAC7B;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAqB,eACrB;QAAA,UAAKU,GAAG,CAACqB,KAAK,CAACC,OAAO,CAAC,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAAM;IAAA;MAAA;MAAA;MAAA;IAAA,QAC7B,EACL,CAACrB,MAAM,iBAAI,QAAC,YAAY;MAAC,QAAQ,EAAED,GAAG,CAACuB,OAAQ;MAAC,cAAc,EAAEjB;IAAgB;MAAA;MAAA;MAAA;IAAA,QAAG,EACnFL,MAAM,iBAAI;MAAK,SAAS,EAAEX,OAAO,CAAC,SAAS,CAAE;MAAA,wBAC1C;QAAQ,SAAS,EAAEA,OAAO,CAAC,aAAa,CAAE;QAAC,OAAO,EAAEU,GAAG,CAACuB,OAAQ;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAe,eAC/E;QAAQ,SAAS,EAAEjC,OAAO,CAAC,QAAQ,CAAE;QAAC,OAAO,EAAEe,YAAa;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAe;IAAA;MAAA;MAAA;MAAA;IAAA,QACzE;EAAA;IAAA;IAAA;IAAA;EAAA,QAEb;EACD,oBACI,QAAC,KAAK;IAAA,uBACN;MAAK,SAAS,EAAEf,OAAO,CAAC,YAAY,CAAE;MAAA,WACjC,CAACa,SAAS,IAAIc,eAAe,EAC7Bd,SAAS,iBAAI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAA8B;IAAA;MAAA;MAAA;MAAA;IAAA;EAC1C;IAAA;IAAA;IAAA;EAAA,QACE;AAEhB,CAAC;AAAA,GA/CKJ,IAAI;AAAA,KAAJA,IAAI;AAiDV,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module"}